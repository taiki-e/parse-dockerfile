{
  "parser_directives": {
    "syntax": {
      "start": 2,
      "value": {
        "span": {
          "start": 9,
          "end": 42
        },
        "value": "docker/dockerfile-upstream:master"
      }
    },
    "escape": null,
    "check": {
      "start": 45,
      "value": {
        "span": {
          "start": 51,
          "end": 61
        },
        "value": "error=true"
      }
    }
  },
  "instructions": [
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 63,
          "end": 66
        }
      },
      "arguments": {
        "span": {
          "start": 67,
          "end": 82
        },
        "value": "GO_VERSION=1.25"
      }
    },
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 83,
          "end": 86
        }
      },
      "arguments": {
        "span": {
          "start": 87,
          "end": 106
        },
        "value": "ALPINE_VERSION=3.22"
      }
    },
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 107,
          "end": 110
        }
      },
      "arguments": {
        "span": {
          "start": 111,
          "end": 132
        },
        "value": "DEBIAN_VERSION=trixie"
      }
    },
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 134,
          "end": 137
        }
      },
      "arguments": {
        "span": {
          "start": 138,
          "end": 181
        },
        "value": "BUILD_LOONG64=${TARGETPLATFORM#linux/amd64}"
      }
    },
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 182,
          "end": 185
        }
      },
      "arguments": {
        "span": {
          "start": 186,
          "end": 231
        },
        "value": "BUILD_LOONG64=${BUILD_LOONG64:+\"unsupported\"}"
      }
    },
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 232,
          "end": 235
        }
      },
      "arguments": {
        "span": {
          "start": 236,
          "end": 279
        },
        "value": "BUILD_LOONG64=${BUILD_LOONG64:-\"supported\"}"
      }
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 281,
          "end": 285
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 286,
          "end": 315
        },
        "value": "debian:${DEBIAN_VERSION}-slim"
      },
      "as_": [
        {
          "span": {
            "start": 316,
            "end": 318
          }
        },
        {
          "span": {
            "start": 319,
            "end": 323
          },
          "value": "base"
        }
      ]
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 324,
          "end": 327
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 328,
            "end": 715
          },
          "value": "apt-get update && apt-get --no-install-recommends install -y git binutils \\\n  gcc-x86-64-linux-gnu \\\n  binutils-x86-64-linux-gnu \\\n  binutils-arm-linux-gnueabihf \\\n  binutils-aarch64-linux-gnu \\\n  binutils-i686-linux-gnu \\\n  binutils-riscv64-linux-gnu \\\n  binutils-s390x-linux-gnu \\\n  binutils-powerpc64le-linux-gnu \\\n  binutils-mips64el-linux-gnuabi64 \\\n  binutils-mips64-linux-gnuabi64"
        }
      },
      "here_docs": []
    },
    {
      "kind": "WORKDIR",
      "workdir": {
        "span": {
          "start": 716,
          "end": 723
        }
      },
      "arguments": {
        "span": {
          "start": 724,
          "end": 728
        },
        "value": "/src"
      }
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 730,
          "end": 734
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 735,
          "end": 739
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 740,
            "end": 742
          }
        },
        {
          "span": {
            "start": 743,
            "end": 753
          },
          "value": "exit-amd64"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 754,
          "end": 758
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 759,
              "end": 794
            },
            "value": "util/archutil/fixtures/exit.amd64.S"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 795,
          "end": 796
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 797,
          "end": 800
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 801,
            "end": 926
          },
          "value": "x86_64-linux-gnu-gcc -static -nostdlib -Wa,--noexecstack -o exit exit.amd64.S && x86_64-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 928,
          "end": 932
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 933,
          "end": 937
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 938,
            "end": 940
          }
        },
        {
          "span": {
            "start": 941,
            "end": 949
          },
          "value": "exit-386"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 950,
          "end": 954
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 955,
              "end": 988
            },
            "value": "util/archutil/fixtures/exit.386.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 989,
          "end": 990
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 991,
          "end": 994
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 995,
            "end": 1132
          },
          "value": "i686-linux-gnu-as --noexecstack -o exit.o exit.386.s && i686-linux-gnu-ld -o exit -s exit.o && i686-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 1134,
          "end": 1138
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 1139,
          "end": 1143
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 1144,
            "end": 1146
          }
        },
        {
          "span": {
            "start": 1147,
            "end": 1157
          },
          "value": "exit-arm64"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 1158,
          "end": 1162
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 1163,
              "end": 1198
            },
            "value": "util/archutil/fixtures/exit.arm64.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 1199,
          "end": 1200
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 1201,
          "end": 1204
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 1205,
            "end": 1353
          },
          "value": "aarch64-linux-gnu-as --noexecstack -o exit.o exit.arm64.s && aarch64-linux-gnu-ld -o exit -s exit.o && aarch64-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 1355,
          "end": 1359
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 1360,
          "end": 1364
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 1365,
            "end": 1367
          }
        },
        {
          "span": {
            "start": 1368,
            "end": 1376
          },
          "value": "exit-arm"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 1377,
          "end": 1381
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 1382,
              "end": 1415
            },
            "value": "util/archutil/fixtures/exit.arm.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 1416,
          "end": 1417
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 1418,
          "end": 1421
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 1422,
            "end": 1574
          },
          "value": "arm-linux-gnueabihf-as --noexecstack -o exit.o exit.arm.s && arm-linux-gnueabihf-ld -o exit -s exit.o && arm-linux-gnueabihf-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 1576,
          "end": 1580
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 1581,
          "end": 1585
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 1586,
            "end": 1588
          }
        },
        {
          "span": {
            "start": 1589,
            "end": 1601
          },
          "value": "exit-riscv64"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 1602,
          "end": 1606
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 1607,
              "end": 1644
            },
            "value": "util/archutil/fixtures/exit.riscv64.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 1645,
          "end": 1646
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 1647,
          "end": 1650
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 1651,
            "end": 1801
          },
          "value": "riscv64-linux-gnu-as --noexecstack -o exit.o exit.riscv64.s && riscv64-linux-gnu-ld -o exit -s exit.o && riscv64-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 1803,
          "end": 1807
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 1808,
          "end": 1812
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 1813,
            "end": 1815
          }
        },
        {
          "span": {
            "start": 1816,
            "end": 1826
          },
          "value": "exit-s390x"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 1827,
          "end": 1831
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 1832,
              "end": 1867
            },
            "value": "util/archutil/fixtures/exit.s390x.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 1868,
          "end": 1869
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 1870,
          "end": 1873
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 1874,
            "end": 2016
          },
          "value": "s390x-linux-gnu-as --noexecstack -o exit.o exit.s390x.s && s390x-linux-gnu-ld -o exit -s exit.o && s390x-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 2018,
          "end": 2022
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 2023,
          "end": 2027
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 2028,
            "end": 2030
          }
        },
        {
          "span": {
            "start": 2031,
            "end": 2041
          },
          "value": "exit-ppc64"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 2042,
          "end": 2046
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 2047,
              "end": 2082
            },
            "value": "util/archutil/fixtures/exit.ppc64.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 2083,
          "end": 2084
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 2085,
          "end": 2088
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 2089,
            "end": 2259
          },
          "value": "powerpc64le-linux-gnu-as -mbig --noexecstack -o exit.o exit.ppc64.s && powerpc64le-linux-gnu-ld -EB -o exit -s exit.o && powerpc64le-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 2261,
          "end": 2265
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 2266,
          "end": 2270
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 2271,
            "end": 2273
          }
        },
        {
          "span": {
            "start": 2274,
            "end": 2286
          },
          "value": "exit-ppc64le"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 2287,
          "end": 2291
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 2292,
              "end": 2329
            },
            "value": "util/archutil/fixtures/exit.ppc64le.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 2330,
          "end": 2331
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 2332,
          "end": 2335
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 2336,
            "end": 2498
          },
          "value": "powerpc64le-linux-gnu-as --noexecstack -o exit.o exit.ppc64le.s && powerpc64le-linux-gnu-ld -o exit -s exit.o && powerpc64le-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 2500,
          "end": 2504
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 2505,
          "end": 2509
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 2510,
            "end": 2512
          }
        },
        {
          "span": {
            "start": 2513,
            "end": 2526
          },
          "value": "exit-mips64le"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 2527,
          "end": 2531
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 2532,
              "end": 2570
            },
            "value": "util/archutil/fixtures/exit.mips64le.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 2571,
          "end": 2572
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 2573,
          "end": 2576
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 2577,
            "end": 2746
          },
          "value": "mips64el-linux-gnuabi64-as --noexecstack -o exit.o exit.mips64le.s && mips64el-linux-gnuabi64-ld -o exit -s exit.o && mips64el-linux-gnuabi64-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 2748,
          "end": 2752
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 2753,
          "end": 2757
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 2758,
            "end": 2760
          }
        },
        {
          "span": {
            "start": 2761,
            "end": 2772
          },
          "value": "exit-mips64"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 2773,
          "end": 2777
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 2778,
              "end": 2814
            },
            "value": "util/archutil/fixtures/exit.mips64.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 2815,
          "end": 2816
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 2817,
          "end": 2820
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 2821,
            "end": 2982
          },
          "value": "mips64-linux-gnuabi64-as --noexecstack -o exit.o exit.mips64.s && mips64-linux-gnuabi64-ld -o exit -s exit.o && mips64-linux-gnuabi64-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 2984,
          "end": 2988
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 2989,
          "end": 2993
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 2994,
            "end": 2996
          }
        },
        {
          "span": {
            "start": 2997,
            "end": 3014
          },
          "value": "exit-loong64-base"
        }
      ]
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 3015,
          "end": 3018
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 3019,
            "end": 3092
          },
          "value": "apt-get --no-install-recommends install -y binutils-loongarch64-linux-gnu"
        }
      },
      "here_docs": []
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3093,
          "end": 3097
        }
      },
      "options": [],
      "src": [
        {
          "path": {
            "span": {
              "start": 3098,
              "end": 3139
            },
            "value": "util/archutil/fixtures/exit.loongarch64.s"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3140,
          "end": 3141
        },
        "value": "."
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 3142,
          "end": 3145
        }
      },
      "options": [],
      "arguments": {
        "shell": {
          "span": {
            "start": 3146,
            "end": 3312
          },
          "value": "loongarch64-linux-gnu-as --noexecstack -o exit.o exit.loongarch64.s && loongarch64-linux-gnu-ld -o exit -s exit.o && loongarch64-linux-gnu-strip --strip-unneeded exit"
        }
      },
      "here_docs": []
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 3314,
          "end": 3318
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 3319,
          "end": 3326
        },
        "value": "scratch"
      },
      "as_": [
        {
          "span": {
            "start": 3327,
            "end": 3329
          }
        },
        {
          "span": {
            "start": 3330,
            "end": 3354
          },
          "value": "exit-loong64-unsupported"
        }
      ]
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 3355,
          "end": 3359
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 3360,
          "end": 3367
        },
        "value": "scratch"
      },
      "as_": [
        {
          "span": {
            "start": 3368,
            "end": 3370
          }
        },
        {
          "span": {
            "start": 3371,
            "end": 3393
          },
          "value": "exit-loong64-supported"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3394,
          "end": 3398
        }
      },
      "options": [
        {
          "flag_start": 3399,
          "name": {
            "span": {
              "start": 3401,
              "end": 3405
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3406,
              "end": 3423
            },
            "value": "exit-loong64-base"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3424,
              "end": 3433
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3434,
          "end": 3441
        },
        "value": "loong64"
      }
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 3442,
          "end": 3446
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 3447,
          "end": 3476
        },
        "value": "exit-loong64-${BUILD_LOONG64}"
      },
      "as_": [
        {
          "span": {
            "start": 3477,
            "end": 3479
          }
        },
        {
          "span": {
            "start": 3480,
            "end": 3492
          },
          "value": "exit-loong64"
        }
      ]
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 3494,
          "end": 3498
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 3499,
          "end": 3506
        },
        "value": "scratch"
      },
      "as_": [
        {
          "span": {
            "start": 3507,
            "end": 3509
          }
        },
        {
          "span": {
            "start": 3510,
            "end": 3515
          },
          "value": "exits"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3516,
          "end": 3520
        }
      },
      "options": [
        {
          "flag_start": 3521,
          "name": {
            "span": {
              "start": 3523,
              "end": 3527
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3528,
              "end": 3538
            },
            "value": "exit-amd64"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3539,
              "end": 3548
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3549,
          "end": 3554
        },
        "value": "amd64"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3555,
          "end": 3559
        }
      },
      "options": [
        {
          "flag_start": 3560,
          "name": {
            "span": {
              "start": 3562,
              "end": 3566
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3567,
              "end": 3575
            },
            "value": "exit-386"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3576,
              "end": 3585
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3586,
          "end": 3589
        },
        "value": "386"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3590,
          "end": 3594
        }
      },
      "options": [
        {
          "flag_start": 3595,
          "name": {
            "span": {
              "start": 3597,
              "end": 3601
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3602,
              "end": 3612
            },
            "value": "exit-arm64"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3613,
              "end": 3622
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3623,
          "end": 3628
        },
        "value": "arm64"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3629,
          "end": 3633
        }
      },
      "options": [
        {
          "flag_start": 3634,
          "name": {
            "span": {
              "start": 3636,
              "end": 3640
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3641,
              "end": 3649
            },
            "value": "exit-arm"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3650,
              "end": 3659
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3660,
          "end": 3663
        },
        "value": "arm"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3664,
          "end": 3668
        }
      },
      "options": [
        {
          "flag_start": 3669,
          "name": {
            "span": {
              "start": 3671,
              "end": 3675
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3676,
              "end": 3688
            },
            "value": "exit-riscv64"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3689,
              "end": 3698
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3699,
          "end": 3706
        },
        "value": "riscv64"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3707,
          "end": 3711
        }
      },
      "options": [
        {
          "flag_start": 3712,
          "name": {
            "span": {
              "start": 3714,
              "end": 3718
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3719,
              "end": 3729
            },
            "value": "exit-s390x"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3730,
              "end": 3739
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3740,
          "end": 3745
        },
        "value": "s390x"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3746,
          "end": 3750
        }
      },
      "options": [
        {
          "flag_start": 3751,
          "name": {
            "span": {
              "start": 3753,
              "end": 3757
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3758,
              "end": 3768
            },
            "value": "exit-ppc64"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3769,
              "end": 3778
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3779,
          "end": 3784
        },
        "value": "ppc64"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3785,
          "end": 3789
        }
      },
      "options": [
        {
          "flag_start": 3790,
          "name": {
            "span": {
              "start": 3792,
              "end": 3796
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3797,
              "end": 3809
            },
            "value": "exit-ppc64le"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3810,
              "end": 3819
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3820,
          "end": 3827
        },
        "value": "ppc64le"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3828,
          "end": 3832
        }
      },
      "options": [
        {
          "flag_start": 3833,
          "name": {
            "span": {
              "start": 3835,
              "end": 3839
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3840,
              "end": 3853
            },
            "value": "exit-mips64le"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3854,
              "end": 3863
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3864,
          "end": 3872
        },
        "value": "mips64le"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3873,
          "end": 3877
        }
      },
      "options": [
        {
          "flag_start": 3878,
          "name": {
            "span": {
              "start": 3880,
              "end": 3884
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3885,
              "end": 3896
            },
            "value": "exit-mips64"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3897,
              "end": 3906
            },
            "value": "/src/exit"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3907,
          "end": 3913
        },
        "value": "mips64"
      }
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 3914,
          "end": 3918
        }
      },
      "options": [
        {
          "flag_start": 3919,
          "name": {
            "span": {
              "start": 3921,
              "end": 3925
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 3926,
              "end": 3938
            },
            "value": "exit-loong64"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 3939,
              "end": 3940
            },
            "value": "/"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 3941,
          "end": 3942
        },
        "value": "/"
      }
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 3944,
          "end": 3948
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 3949,
          "end": 3993
        },
        "value": "golang:${GO_VERSION}-alpine${ALPINE_VERSION}"
      },
      "as_": [
        {
          "span": {
            "start": 3994,
            "end": 3996
          }
        },
        {
          "span": {
            "start": 3997,
            "end": 4005
          },
          "value": "generate"
        }
      ]
    },
    {
      "kind": "WORKDIR",
      "workdir": {
        "span": {
          "start": 4006,
          "end": 4013
        }
      },
      "arguments": {
        "span": {
          "start": 4014,
          "end": 4046
        },
        "value": "/go/src/github.com/moby/buildkit"
      }
    },
    {
      "kind": "ARG",
      "arg": {
        "span": {
          "start": 4047,
          "end": 4050
        }
      },
      "arguments": {
        "span": {
          "start": 4051,
          "end": 4064
        },
        "value": "BUILD_LOONG64"
      }
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 4065,
          "end": 4068
        }
      },
      "options": [
        {
          "flag_start": 4069,
          "name": {
            "span": {
              "start": 4071,
              "end": 4076
            },
            "value": "mount"
          },
          "value": {
            "span": {
              "start": 4077,
              "end": 4098
            },
            "value": "type=bind,target=.,rw"
          }
        },
        {
          "flag_start": 4105,
          "name": {
            "span": {
              "start": 4107,
              "end": 4112
            },
            "value": "mount"
          },
          "value": {
            "span": {
              "start": 4113,
              "end": 4148
            },
            "value": "from=exits,target=./bin/archutil,rw"
          }
        }
      ],
      "arguments": {
        "shell": {
          "span": {
            "start": 4154,
            "end": 4154
          },
          "value": ""
        }
      },
      "here_docs": [
        {
          "span": {
            "start": 4155,
            "end": 4628
          },
          "expand": true,
          "value": "  set -ex\n  mkdir /out\n  go run ./util/archutil/generate.go \\\n    bin/archutil/amd64 \\\n    bin/archutil/386 \\\n    bin/archutil/arm64 \\\n    bin/archutil/arm \\\n    bin/archutil/riscv64 \\\n    bin/archutil/s390x \\\n    bin/archutil/ppc64 \\\n    bin/archutil/ppc64le \\\n    bin/archutil/mips64le \\\n    bin/archutil/mips64\n  [ \"${BUILD_LOONG64}\" = \"unsupported\" ] || go run ./util/archutil/generate.go bin/archutil/loong64\n  tree -nh bin/archutil\n  cp bin/archutil/*_binary.go /out\n"
        }
      ]
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 4633,
          "end": 4637
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 4638,
          "end": 4645
        },
        "value": "scratch"
      },
      "as_": [
        {
          "span": {
            "start": 4646,
            "end": 4648
          }
        },
        {
          "span": {
            "start": 4649,
            "end": 4655
          },
          "value": "update"
        }
      ]
    },
    {
      "kind": "COPY",
      "copy": {
        "span": {
          "start": 4656,
          "end": 4660
        }
      },
      "options": [
        {
          "flag_start": 4661,
          "name": {
            "span": {
              "start": 4663,
              "end": 4667
            },
            "value": "from"
          },
          "value": {
            "span": {
              "start": 4668,
              "end": 4676
            },
            "value": "generate"
          }
        }
      ],
      "src": [
        {
          "path": {
            "span": {
              "start": 4677,
              "end": 4681
            },
            "value": "/out"
          }
        }
      ],
      "dest": {
        "span": {
          "start": 4682,
          "end": 4683
        },
        "value": "/"
      }
    },
    {
      "kind": "FROM",
      "from": {
        "span": {
          "start": 4685,
          "end": 4689
        }
      },
      "options": [],
      "image": {
        "span": {
          "start": 4690,
          "end": 4694
        },
        "value": "base"
      },
      "as_": [
        {
          "span": {
            "start": 4695,
            "end": 4697
          }
        },
        {
          "span": {
            "start": 4698,
            "end": 4706
          },
          "value": "validate"
        }
      ]
    },
    {
      "kind": "RUN",
      "run": {
        "span": {
          "start": 4707,
          "end": 4710
        }
      },
      "options": [
        {
          "flag_start": 4711,
          "name": {
            "span": {
              "start": 4713,
              "end": 4718
            },
            "value": "mount"
          },
          "value": {
            "span": {
              "start": 4719,
              "end": 4740
            },
            "value": "type=bind,target=.,rw"
          }
        },
        {
          "flag_start": 4747,
          "name": {
            "span": {
              "start": 4749,
              "end": 4754
            },
            "value": "mount"
          },
          "value": {
            "span": {
              "start": 4755,
              "end": 4814
            },
            "value": "type=bind,from=generate,source=/out,target=/generated-files"
          }
        }
      ],
      "arguments": {
        "shell": {
          "span": {
            "start": 4820,
            "end": 4820
          },
          "value": ""
        }
      },
      "here_docs": [
        {
          "span": {
            "start": 4821,
            "end": 5215
          },
          "expand": true,
          "value": "  set -e\n  git add -A\n  if [ \"$(ls -A /generated-files)\" ]; then\n    cp -rf /generated-files/* ./util/archutil\n  fi\n  # loong64 is not stable atm\n  git checkout -- util/archutil/loong64_binary.go\n  diff=$(git status --porcelain -- util/archutil)\n  if [ -n \"$diff\" ]; then\n    echo >&2 'ERROR: The result of archutil differs. Please update with \"make archutil\"'\n    echo \"$diff\"\n    exit 1\n  fi\n"
        }
      ]
    }
  ]
}